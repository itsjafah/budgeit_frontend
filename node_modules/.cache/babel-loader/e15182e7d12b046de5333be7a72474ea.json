{"ast":null,"code":"import { ADD_USER, LOGIN, GET_PROFILE, EDIT_PROFILE, LOGOUT, GET_BUDGETS, GET_CATEGORIES, GET_EXPENSES } from '../constants/action-type';\nexport var addUser = function addUser(user, dispatch) {\n  fetch('http://localhost:3000/signup', {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    localStorage.setItem('jwt', data.jwt);\n    var _data$user = data.user,\n        budgets = _data$user.budgets,\n        categories = _data$user.categories,\n        expenses = _data$user.expenses;\n    dispatch({\n      type: ADD_USER,\n      payload: user\n    });\n    dispatch({\n      type: GET_BUDGETS,\n      payload: budgets\n    });\n    dispatch({\n      type: GET_CATEGORIES,\n      payload: categories\n    });\n    dispatch({\n      type: GET_EXPENSES,\n      payload: expenses\n    });\n  });\n};\nexport var login = function login(user, dispatch) {\n  fetch('http://localhost:3000/login', {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    localStorage.setItem('jwt', data.jwt);\n    var _data$user2 = data.user,\n        budgets = _data$user2.budgets,\n        categories = _data$user2.categories,\n        expenses = _data$user2.expenses;\n    var user = {\n      first_name: data.user.first_name,\n      last_name: data.user.last_name,\n      email: data.user.email\n    };\n    console.log(user);\n    dispatch({\n      type: LOGIN,\n      payload: user\n    });\n    dispatch({\n      type: GET_BUDGETS,\n      payload: budgets\n    });\n    dispatch({\n      type: GET_CATEGORIES,\n      payload: categories\n    });\n    dispatch({\n      type: GET_EXPENSES,\n      payload: expenses\n    });\n  });\n};\nexport var userProfile = function userProfile(dispatch) {\n  fetch(\"http://localhost:3000/profile\", {\n    method: 'GET',\n    headers: {\n      Authorization: \"Bearer \".concat(localStorage.getItem('jwt'))\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    var _data$user3 = data.user,\n        budgets = _data$user3.budgets,\n        categories = _data$user3.categories,\n        expenses = _data$user3.expenses;\n    var user = {\n      id: data.user.id,\n      first_name: data.user.first_name,\n      last_name: data.user.last_name,\n      email: data.user.email\n    };\n    dispatch({\n      type: GET_PROFILE,\n      payload: user\n    });\n    dispatch({\n      type: GET_BUDGETS,\n      payload: budgets\n    });\n    dispatch({\n      type: GET_CATEGORIES,\n      payload: categories\n    });\n    dispatch({\n      type: GET_EXPENSES,\n      payload: expenses\n    });\n  });\n};\nexport var editUser = function editUser(user, dispatch) {\n  fetch(\"http://localhost:3000/users/\".concat(user.id, \"/edit\"), {\n    method: 'PATCH',\n    headers: {\n      Authorization: \"Bearer \".concat(localStorage.getItem('jwt')),\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    dispatch({\n      type: EDIT_PROFILE,\n      payload: data\n    });\n  });\n};\nexport var logout = function logout(user, dispatch) {\n  fetch('http://localhost:3000/logout', {\n    method: 'DELETE'\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    dispatch({\n      type: LOGOUT,\n      payload: user\n    });\n    localStorage.removeItem('jwt');\n  });\n};","map":{"version":3,"sources":["/Users/sinnam/Desktop/mod5_project/budgeit_frontend/budgeit/src/actions/home.js"],"names":["ADD_USER","LOGIN","GET_PROFILE","EDIT_PROFILE","LOGOUT","GET_BUDGETS","GET_CATEGORIES","GET_EXPENSES","addUser","user","dispatch","fetch","method","headers","body","JSON","stringify","then","response","json","data","localStorage","setItem","jwt","budgets","categories","expenses","type","payload","login","first_name","last_name","email","console","log","userProfile","Authorization","getItem","id","editUser","logout","removeItem"],"mappings":"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","sourcesContent":["import {\n  ADD_USER,\n  LOGIN,\n  GET_PROFILE,\n  EDIT_PROFILE,\n  LOGOUT,\n  GET_BUDGETS,\n  GET_CATEGORIES,\n  GET_EXPENSES\n} from '../constants/action-type'\n\nexport const addUser = (user, dispatch) => {\n  fetch('http://localhost:3000/signup', {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => response.json())\n    .then(data => {\n      localStorage.setItem('jwt', data.jwt)\n      const { budgets, categories, expenses } = data.user\n      dispatch({ type: ADD_USER, payload: user })\n      dispatch({ type: GET_BUDGETS, payload: budgets})\n      dispatch({ type: GET_CATEGORIES, payload: categories})\n      dispatch({ type: GET_EXPENSES, payload: expenses})\n    })\n}\n\nexport const login = (user, dispatch) => {\n  fetch('http://localhost:3000/login', {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => response.json())\n    .then(data => {\n      localStorage.setItem('jwt', data.jwt)\n      const { budgets, categories, expenses } = data.user\n      let user = {\n        first_name: data.user.first_name,\n        last_name: data.user.last_name,\n        email: data.user.email\n      }\n      console.log(user);\n      dispatch({ type: LOGIN, payload: user })\n      dispatch({ type: GET_BUDGETS, payload: budgets})\n      dispatch({ type: GET_CATEGORIES, payload: categories})\n      dispatch({ type: GET_EXPENSES, payload: expenses})\n    })\n}\n\nexport const userProfile = (dispatch) => {\n  fetch(`http://localhost:3000/profile`, {\n    method: 'GET',\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem('jwt')}`\n    }\n  })\n  .then(response => response.json())\n  .then(data => {\n    const { budgets, categories, expenses } = data.user\n    let user = {id: data.user.id, first_name: data.user.first_name, last_name: data.user.last_name, email: data.user.email}\n    dispatch({ type: GET_PROFILE, payload: user })\n    dispatch({ type: GET_BUDGETS, payload: budgets})\n    dispatch({ type: GET_CATEGORIES, payload: categories})\n    dispatch({ type: GET_EXPENSES, payload: expenses})\n  })\n}\n\nexport const editUser = (user, dispatch) => {\n  fetch(`http://localhost:3000/users/${user.id}/edit`, {\n    method: 'PATCH',\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  })\n  .then(response => response.json())\n  .then(data => {\n    dispatch({ type: EDIT_PROFILE, payload: data })\n  })\n}\n\nexport const logout = (user, dispatch) => {\n  fetch('http://localhost:3000/logout', {\n    method: 'DELETE'\n  })\n  .then(response => response.json())\n  .then(data => {\n    dispatch({ type: LOGOUT, payload: user })\n    localStorage.removeItem('jwt')\n  })\n}\n"]},"metadata":{},"sourceType":"module"}