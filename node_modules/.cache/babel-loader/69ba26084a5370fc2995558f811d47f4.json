{"ast":null,"code":"import { GET_BUDGETS, ADD_BUDGET, EDIT_BUDGET, DELETE_BUDGET } from '../constants/action-type'; // export const getBudgets = (dispatch) => {\n//   fetch('http://localhost:3000/budgets', {\n//     method: 'GET',\n//     body: {\n//       Authorization: `Bearer ${localStorage.getItem('jwt')}`\n//     }\n//   })\n//     .then(response => response.json())\n//     .then(data => {\n//       // console.log(data)\n//       dispatch({ type: GET_BUDGETS, payload: data })\n//     })\n// }\n\nexport var addBudget = function addBudget(budget, dispatch) {\n  // debugger\n  fetch('http://localhost:3000/budgets', {\n    method: 'POST',\n    headers: {\n      Authorization: \"Bearer \".concat(localStorage.getItem('jwt')),\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(budget)\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    console.log(data);\n    dispatch({\n      type: ADD_BUDGET,\n      payload: data\n    });\n  });\n};\nexport var editBudget = function editBudget(budget, dispatch) {\n  // console.log(budget.id);\n  return fetch(\"http://localhost:3000/budgets/\".concat(budget.id), {\n    method: 'PATCH',\n    headers: {\n      Authorization: \"Bearer \".concat(localStorage.getItem('jwt')),\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(budget)\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    // console.log(data)\n    dispatch({\n      type: EDIT_BUDGET,\n      payload: data\n    });\n  });\n};\nexport var deleteBudget = function deleteBudget(budget, dispatch) {\n  // console.log(budget);\n  fetch(\"http://localhost:3000/budgets/\".concat(budget.id), {\n    method: 'DELETE',\n    headers: {\n      Authorization: \"Bearer \".concat(localStorage.getItem('jwt'))\n    }\n  });\n  dispatch({\n    type: DELETE_BUDGET,\n    payload: budget\n  });\n};","map":{"version":3,"sources":["/Users/sinnam/Desktop/budgeit_frontend/budgeit/src/actions/budget.js"],"names":["GET_BUDGETS","ADD_BUDGET","EDIT_BUDGET","DELETE_BUDGET","addBudget","budget","dispatch","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","then","response","json","data","console","log","type","payload","editBudget","id","deleteBudget"],"mappings":"AAAA,SACEA,WADF,EAEEC,UAFF,EAGEC,WAHF,EAIEC,aAJF,QAKO,0BALP,C,CAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,MAAD,EAASC,QAAT,EAAsB;AAC7C;AACAC,EAAAA,KAAK,CAAC,+BAAD,EAAkC;AACrCC,IAAAA,MAAM,EAAE,MAD6B;AAErCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,mBAAYC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAZ,CADN;AAEP,gBAAU,kBAFH;AAGP,sBAAgB;AAHT,KAF4B;AAOrCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeV,MAAf;AAP+B,GAAlC,CAAL,CASGW,IATH,CASQ,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GAThB,EAUGF,IAVH,CAUQ,UAAAG,IAAI,EAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAb,IAAAA,QAAQ,CAAC;AAAEgB,MAAAA,IAAI,EAAErB,UAAR;AAAoBsB,MAAAA,OAAO,EAAEJ;AAA7B,KAAD,CAAR;AACH,GAbD;AAcD,CAhBM;AAkBP,OAAO,IAAMK,UAAU,GAAG,SAAbA,UAAa,CAACnB,MAAD,EAASC,QAAT,EAAsB;AAC9C;AACA,SAAOC,KAAK,yCAAkCF,MAAM,CAACoB,EAAzC,GAA+C;AACzDjB,IAAAA,MAAM,EAAE,OADiD;AAEzDC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,mBAAYC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAZ,CADN;AAEP,gBAAU,kBAFH;AAGP,sBAAgB;AAHT,KAFgD;AAOzDC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeV,MAAf;AAPmD,GAA/C,CAAL,CASJW,IATI,CASC,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GATT,EAUJF,IAVI,CAUC,UAAAG,IAAI,EAAI;AACZ;AACAb,IAAAA,QAAQ,CAAC;AAAEgB,MAAAA,IAAI,EAAEpB,WAAR;AAAqBqB,MAAAA,OAAO,EAAEJ;AAA9B,KAAD,CAAR;AACD,GAbI,CAAP;AAcD,CAhBM;AAkBP,OAAO,IAAMO,YAAY,GAAG,SAAfA,YAAe,CAACrB,MAAD,EAASC,QAAT,EAAsB;AAChD;AACAC,EAAAA,KAAK,yCAAkCF,MAAM,CAACoB,EAAzC,GAA+C;AAClDjB,IAAAA,MAAM,EAAE,QAD0C;AAElDC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,mBAAYC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAZ;AADN;AAFyC,GAA/C,CAAL;AAMAN,EAAAA,QAAQ,CAAC;AAAEgB,IAAAA,IAAI,EAAEnB,aAAR;AAAuBoB,IAAAA,OAAO,EAAElB;AAAhC,GAAD,CAAR;AACD,CATM","sourcesContent":["import {\n  GET_BUDGETS,\n  ADD_BUDGET,\n  EDIT_BUDGET,\n  DELETE_BUDGET,\n} from '../constants/action-type'\n\n// export const getBudgets = (dispatch) => {\n//   fetch('http://localhost:3000/budgets', {\n//     method: 'GET',\n//     body: {\n//       Authorization: `Bearer ${localStorage.getItem('jwt')}`\n//     }\n//   })\n//     .then(response => response.json())\n//     .then(data => {\n//       // console.log(data)\n//       dispatch({ type: GET_BUDGETS, payload: data })\n//     })\n// }\n\nexport const addBudget = (budget, dispatch) => {\n  // debugger\n  fetch('http://localhost:3000/budgets', {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(budget)\n  })\n    .then(response => response.json())\n    .then(data => {\n      console.log(data);\n      dispatch({ type: ADD_BUDGET, payload: data })\n  })\n}\n\nexport const editBudget = (budget, dispatch) => {\n  // console.log(budget.id);\n  return fetch(`http://localhost:3000/budgets/${budget.id}`, {\n    method: 'PATCH',\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(budget)\n  })\n    .then(response => response.json())\n    .then(data => {\n      // console.log(data)\n      dispatch({ type: EDIT_BUDGET, payload: data })\n    })\n}\n\nexport const deleteBudget = (budget, dispatch) => {\n  // console.log(budget);\n  fetch(`http://localhost:3000/budgets/${budget.id}`, {\n    method: 'DELETE',\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem('jwt')}`\n    }\n  })\n  dispatch({ type: DELETE_BUDGET, payload: budget })\n}\n"]},"metadata":{},"sourceType":"module"}