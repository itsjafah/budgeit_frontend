{"ast":null,"code":"import _classCallCheck from \"/Users/sinnam/Desktop/mod5_project/budgeit_frontend/budgeit/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sinnam/Desktop/mod5_project/budgeit_frontend/budgeit/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sinnam/Desktop/mod5_project/budgeit_frontend/budgeit/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sinnam/Desktop/mod5_project/budgeit_frontend/budgeit/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sinnam/Desktop/mod5_project/budgeit_frontend/budgeit/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sinnam/Desktop/mod5_project/budgeit_frontend/budgeit/src/components/expense/ExpenseMain.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { deleteExpense as _deleteExpense } from '../../actions/expense';\nimport './ExpenseMain.css';\n\nvar ExpenseMain =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ExpenseMain, _Component);\n\n  function ExpenseMain() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ExpenseMain);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ExpenseMain)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      expenses: [],\n      sortDescription: false,\n      sortDates: false,\n      sortAmounts: false,\n      search: ''\n    };\n\n    _this.handleClickDeleteExpense = function (expense) {\n      _this.props.deleteExpense(expense);\n    };\n\n    _this.handleClickExpenseDescriptionSort = function () {\n      if (_this.state.sortDescription === false) {\n        _this.sortAtoZ();\n\n        _this.setState({\n          budgets: _this.props.budgets,\n          sortDescription: true\n        });\n      } else if (_this.state.sortDescription === true) {\n        _this.sortZtoA();\n\n        _this.setState({\n          budgets: _this.props.budgets,\n          sortDescription: false\n        });\n      }\n    };\n\n    _this.handleClickExpenseDateSort = function () {\n      if (_this.state.sortDates === false) {\n        _this.sortDatesLowToHigh();\n\n        _this.setState({\n          budgets: _this.props.budgets,\n          sortDates: true\n        });\n      } else if (_this.state.sortDates === true) {\n        _this.sortDatesHighToLow();\n\n        _this.setState({\n          budgets: _this.props.budgets,\n          sortDates: false\n        });\n      }\n    };\n\n    _this.handleClickExpenseAmountSort = function () {\n      if (_this.state.sortAmounts === false) {\n        _this.sortAmountLowToHigh();\n\n        _this.setState({\n          budgets: _this.props.budgets,\n          sortAmounts: true\n        });\n      } else if (_this.state.sortAmounts === true) {\n        _this.sortAmountHighToLow();\n\n        _this.setState({\n          budgets: _this.props.budgets,\n          sortAmounts: false\n        });\n      }\n    };\n\n    _this.sortAtoZ = function () {\n      _this.props.expenses.sort(function (a, b) {\n        var descriptionA = a.description;\n        var descriptionB = b.description;\n\n        if (descriptionA < descriptionB) {\n          return -1;\n        }\n\n        if (descriptionA > descriptionB) {\n          return 1;\n        }\n\n        return 0;\n      });\n    };\n\n    _this.sortZtoA = function () {\n      _this.props.expenses.sort(function (a, b) {\n        var descriptionA = a.description;\n        var descriptionB = b.description;\n\n        if (descriptionA > descriptionB) {\n          return -1;\n        }\n\n        if (descriptionA < descriptionB) {\n          return 1;\n        }\n\n        return 0;\n      });\n    };\n\n    _this.sortDatesLowToHigh = function () {\n      _this.props.expenses.sort(function (a, b) {\n        var dateA = a.date;\n        var dateB = b.date;\n\n        if (dateA < dateB) {\n          return -1;\n        }\n\n        if (dateA > dateB) {\n          return 1;\n        }\n\n        return 0;\n      });\n    };\n\n    _this.sortDatesHighToLow = function () {\n      _this.props.expenses.sort(function (a, b) {\n        var dateA = a.date;\n        var dateB = b.date;\n\n        if (dateA > dateB) {\n          return -1;\n        }\n\n        if (dateA < dateB) {\n          return 1;\n        }\n\n        return 0;\n      });\n    };\n\n    _this.sortAmountLowToHigh = function () {\n      return _this.props.expenses.sort(function (a, b) {\n        return a.amount - b.amount;\n      });\n    };\n\n    _this.sortAmountHighToLow = function () {\n      return _this.props.expenses.sort(function (a, b) {\n        return b.amount - a.amount;\n      });\n    };\n\n    _this.handleChangeExpenses = function (event) {\n      _this.setState({\n        search: event.target.value\n      });\n    };\n\n    _this.searchedExpensesTerm = function () {\n      return _this.props.budgets.filter(function (budget) {\n        return budget.description.toLowerCase().includes(_this.state.search).toLowerCase();\n      });\n    };\n\n    _this.mapBudgets = function () {\n      return _this.searchedExpensesTerm().map(function (budget) {\n        var categoryBudgets = _this.props.categories.filter(function (category) {\n          return budget.id === category.budget_id;\n        });\n\n        return React.createElement(\"div\", {\n          id: \"table_data\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          id: \"budget_table_row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          className: \"budget_table_headers\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, \" Budget: \", budget.description), React.createElement(\"th\", {\n          className: \"budget_table_headers\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, \" Budget Total: $\", budget.amount)), categoryBudgets.map(function (category) {\n          var categoryExpenses = _this.props.expenses.filter(function (expense) {\n            return expense.category_id === category.id;\n          });\n\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137\n            },\n            __self: this\n          }, React.createElement(\"tr\", {\n            id: \"category_table_row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 138\n            },\n            __self: this\n          }, React.createElement(\"th\", {\n            className: \"category_table_headers\",\n            style: {\n              backgroundColor: \"\".concat(category.color)\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          }, \" \", category.title)), React.createElement(\"tr\", {\n            id: \"expense_table_label_row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          }, React.createElement(\"th\", {\n            className: \"expense_table_headers\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143\n            },\n            __self: this\n          }, \" Expense Description \", React.createElement(\"button\", {\n            className: \"expense_button\",\n            onClick: _this.handleClickExpenseDescriptionSort,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143\n            },\n            __self: this\n          }, \" Sort \")), React.createElement(\"th\", {\n            className: \"expense_table_headers\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144\n            },\n            __self: this\n          }, \" Expense Dates \", React.createElement(\"button\", {\n            className: \"expense_button\",\n            onClick: _this.handleClickExpenseDateSort,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144\n            },\n            __self: this\n          }, \" Sort \")), React.createElement(\"th\", {\n            className: \"expense_table_headers\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145\n            },\n            __self: this\n          }, \" Expense Amount \", React.createElement(\"button\", {\n            className: \"expense_button\",\n            onClick: _this.handleClickExpenseAmountSort,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145\n            },\n            __self: this\n          }, \" Sort \")), React.createElement(\"th\", {\n            className: \"expense_table_headers\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146\n            },\n            __self: this\n          }, \" Edit/Delete \"))), categoryExpenses.map(function (expense) {\n            var beforeDecimal = parseFloat(expense.amount.toString().split(\".\")[0]);\n            var afterDecimal = parseFloat(expense.amount.toString().split(\".\")[1]);\n\n            if (isNaN(afterDecimal)) {\n              afterDecimal = '00';\n            } else if (afterDecimal < 10) {\n              afterDecimal = afterDecimal.toString() + '0';\n            }\n\n            var parsedExpenseAmount = beforeDecimal.toString() + '.' + afterDecimal.toString();\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 160\n              },\n              __self: this\n            }, React.createElement(\"tr\", {\n              key: expense.id,\n              id: \"expense_table_row\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 161\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              className: \"expense_table_data\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 162\n              },\n              __self: this\n            }, expense.description), React.createElement(\"td\", {\n              className: \"expense_table_data\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 163\n              },\n              __self: this\n            }, expense.date), React.createElement(\"td\", {\n              className: \"expense_table_data\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 164\n              },\n              __self: this\n            }, \"$\", parsedExpenseAmount), React.createElement(\"td\", {\n              className: \"expense_table_data\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 165\n              },\n              __self: this\n            }, React.createElement(\"button\", {\n              className: \"expense_button\",\n              id: expense.id,\n              onClick: function onClick() {\n                return _this.props.handleClickEditExpense(expense);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 166\n              },\n              __self: this\n            }, \" Edit \"), React.createElement(\"button\", {\n              className: \"expense_button\",\n              id: expense.id,\n              onClick: function onClick() {\n                return _this.handleClickDeleteExpense(expense);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 167\n              },\n              __self: this\n            }, \" Delete \"))));\n          }));\n        }));\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ExpenseMain, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"expenses_container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"expense_header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \" My Expenses \"), React.createElement(\"div\", {\n        id: \"input_container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Search: \", React.createElement(\"input\", {\n        id: \"input\",\n        type: \"text\",\n        placeholder: \"Search budgets...\",\n        onChange: this.handleChangeExpenses,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"expenses_table_container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        id: \"expense_table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        id: \"table_body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, this.mapBudgets()))));\n    }\n  }]);\n\n  return ExpenseMain;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    budgets: state.budgetReducer.budgets,\n    expenses: state.expenseReducer.expenses,\n    categories: state.categoryReducer.categories\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    deleteExpense: function deleteExpense(expense) {\n      return _deleteExpense(expense, dispatch);\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ExpenseMain);","map":{"version":3,"sources":["/Users/sinnam/Desktop/mod5_project/budgeit_frontend/budgeit/src/components/expense/ExpenseMain.js"],"names":["React","Component","connect","deleteExpense","ExpenseMain","state","expenses","sortDescription","sortDates","sortAmounts","search","handleClickDeleteExpense","expense","props","handleClickExpenseDescriptionSort","sortAtoZ","setState","budgets","sortZtoA","handleClickExpenseDateSort","sortDatesLowToHigh","sortDatesHighToLow","handleClickExpenseAmountSort","sortAmountLowToHigh","sortAmountHighToLow","sort","a","b","descriptionA","description","descriptionB","dateA","date","dateB","amount","handleChangeExpenses","event","target","value","searchedExpensesTerm","filter","budget","toLowerCase","includes","mapBudgets","map","categoryBudgets","categories","category","id","budget_id","categoryExpenses","category_id","backgroundColor","color","title","beforeDecimal","parseFloat","toString","split","afterDecimal","isNaN","parsedExpenseAmount","handleClickEditExpense","mapStateToProps","budgetReducer","expenseReducer","categoryReducer","mapDispatchToProps","dispatch"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,aAAa,IAAbA,cAAT,QAA8B,uBAA9B;AACA,OAAO,mBAAP;;IAEMC,W;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,eAAe,EAAE,KAFX;AAGNC,MAAAA,SAAS,EAAE,KAHL;AAINC,MAAAA,WAAW,EAAE,KAJP;AAKNC,MAAAA,MAAM,EAAE;AALF,K;;UAQRC,wB,GAA2B,UAACC,OAAD,EAAa;AACtC,YAAKC,KAAL,CAAWV,aAAX,CAAyBS,OAAzB;AACD,K;;UAEDE,iC,GAAoC,YAAM;AACxC,UAAI,MAAKT,KAAL,CAAWE,eAAX,KAA+B,KAAnC,EAA0C;AAC1C,cAAKQ,QAAL;;AACA,cAAKC,QAAL,CAAc;AAACC,UAAAA,OAAO,EAAE,MAAKJ,KAAL,CAAWI,OAArB;AAA8BV,UAAAA,eAAe,EAAE;AAA/C,SAAd;AACD,OAHC,MAGK,IAAI,MAAKF,KAAL,CAAWE,eAAX,KAA+B,IAAnC,EAAyC;AAC9C,cAAKW,QAAL;;AACA,cAAKF,QAAL,CAAc;AAACC,UAAAA,OAAO,EAAE,MAAKJ,KAAL,CAAWI,OAArB;AAA8BV,UAAAA,eAAe,EAAE;AAA/C,SAAd;AACD;AACA,K;;UAEDY,0B,GAA6B,YAAM;AACjC,UAAI,MAAKd,KAAL,CAAWG,SAAX,KAAyB,KAA7B,EAAoC;AACpC,cAAKY,kBAAL;;AACA,cAAKJ,QAAL,CAAc;AAACC,UAAAA,OAAO,EAAE,MAAKJ,KAAL,CAAWI,OAArB;AAA8BT,UAAAA,SAAS,EAAE;AAAzC,SAAd;AACD,OAHC,MAGK,IAAI,MAAKH,KAAL,CAAWG,SAAX,KAAyB,IAA7B,EAAmC;AACxC,cAAKa,kBAAL;;AACA,cAAKL,QAAL,CAAc;AAACC,UAAAA,OAAO,EAAE,MAAKJ,KAAL,CAAWI,OAArB;AAA8BT,UAAAA,SAAS,EAAE;AAAzC,SAAd;AACD;AACF,K;;UAECc,4B,GAA+B,YAAM;AACnC,UAAI,MAAKjB,KAAL,CAAWI,WAAX,KAA2B,KAA/B,EAAsC;AACpC,cAAKc,mBAAL;;AACA,cAAKP,QAAL,CAAc;AAACC,UAAAA,OAAO,EAAE,MAAKJ,KAAL,CAAWI,OAArB;AAA8BR,UAAAA,WAAW,EAAE;AAA3C,SAAd;AACD,OAHD,MAGO,IAAI,MAAKJ,KAAL,CAAWI,WAAX,KAA2B,IAA/B,EAAqC;AAC1C,cAAKe,mBAAL;;AACA,cAAKR,QAAL,CAAc;AAACC,UAAAA,OAAO,EAAE,MAAKJ,KAAL,CAAWI,OAArB;AAA8BR,UAAAA,WAAW,EAAE;AAA3C,SAAd;AACD;AACF,K;;UAEDM,Q,GAAW,YAAM;AACf,YAAKF,KAAL,CAAWP,QAAX,CAAoBmB,IAApB,CAAyB,UAASC,CAAT,EAAWC,CAAX,EAAc;AACrC,YAAIC,YAAY,GAAGF,CAAC,CAACG,WAArB;AACA,YAAIC,YAAY,GAAGH,CAAC,CAACE,WAArB;;AACA,YAAID,YAAY,GAAGE,YAAnB,EAAgC;AAC9B,iBAAO,CAAC,CAAR;AACD;;AACD,YAAIF,YAAY,GAAGE,YAAnB,EAAgC;AAC9B,iBAAO,CAAP;AACD;;AACD,eAAO,CAAP;AACD,OAVD;AAWD,K;;UAEDZ,Q,GAAW,YAAM;AACf,YAAKL,KAAL,CAAWP,QAAX,CAAoBmB,IAApB,CAAyB,UAASC,CAAT,EAAWC,CAAX,EAAc;AACrC,YAAIC,YAAY,GAAGF,CAAC,CAACG,WAArB;AACA,YAAIC,YAAY,GAAGH,CAAC,CAACE,WAArB;;AACA,YAAID,YAAY,GAAGE,YAAnB,EAAgC;AAC9B,iBAAO,CAAC,CAAR;AACD;;AACD,YAAIF,YAAY,GAAGE,YAAnB,EAAgC;AAC9B,iBAAO,CAAP;AACD;;AACD,eAAO,CAAP;AACD,OAVD;AAWD,K;;UAEDV,kB,GAAqB,YAAM;AACzB,YAAKP,KAAL,CAAWP,QAAX,CAAoBmB,IAApB,CAAyB,UAASC,CAAT,EAAWC,CAAX,EAAc;AACrC,YAAII,KAAK,GAAGL,CAAC,CAACM,IAAd;AACA,YAAIC,KAAK,GAAGN,CAAC,CAACK,IAAd;;AACA,YAAID,KAAK,GAAGE,KAAZ,EAAkB;AAChB,iBAAO,CAAC,CAAR;AACD;;AACD,YAAIF,KAAK,GAAGE,KAAZ,EAAkB;AAChB,iBAAO,CAAP;AACD;;AACD,eAAO,CAAP;AACD,OAVD;AAWD,K;;UAEDZ,kB,GAAqB,YAAM;AACzB,YAAKR,KAAL,CAAWP,QAAX,CAAoBmB,IAApB,CAAyB,UAASC,CAAT,EAAWC,CAAX,EAAc;AACrC,YAAII,KAAK,GAAGL,CAAC,CAACM,IAAd;AACA,YAAIC,KAAK,GAAGN,CAAC,CAACK,IAAd;;AACA,YAAID,KAAK,GAAGE,KAAZ,EAAkB;AAChB,iBAAO,CAAC,CAAR;AACD;;AACD,YAAIF,KAAK,GAAGE,KAAZ,EAAkB;AAChB,iBAAO,CAAP;AACD;;AACD,eAAO,CAAP;AACD,OAVD;AAWD,K;;UAEDV,mB,GAAsB,YAAM;AAC1B,aAAO,MAAKV,KAAL,CAAWP,QAAX,CAAoBmB,IAApB,CAAyB,UAASC,CAAT,EAAWC,CAAX,EAAc;AAC5C,eAAOD,CAAC,CAACQ,MAAF,GAAWP,CAAC,CAACO,MAApB;AACD,OAFM,CAAP;AAGD,K;;UAEDV,mB,GAAsB,YAAM;AAC1B,aAAO,MAAKX,KAAL,CAAWP,QAAX,CAAoBmB,IAApB,CAAyB,UAASC,CAAT,EAAWC,CAAX,EAAc;AAC5C,eAAOA,CAAC,CAACO,MAAF,GAAWR,CAAC,CAACQ,MAApB;AACD,OAFM,CAAP;AAGD,K;;UAEDC,oB,GAAuB,UAACC,KAAD,EAAW;AAChC,YAAKpB,QAAL,CAAc;AAACN,QAAAA,MAAM,EAAE0B,KAAK,CAACC,MAAN,CAAaC;AAAtB,OAAd;AACD,K;;UAEDC,oB,GAAuB,YAAM;AAC3B,aAAO,MAAK1B,KAAL,CAAWI,OAAX,CAAmBuB,MAAnB,CAA0B,UAACC,MAAD,EAAY;AAC3C,eAAOA,MAAM,CAACZ,WAAP,CAAmBa,WAAnB,GAAiCC,QAAjC,CAA0C,MAAKtC,KAAL,CAAWK,MAArD,EAA6DgC,WAA7D,EAAP;AACD,OAFM,CAAP;AAGD,K;;UAEDE,U,GAAa,YAAM;AACjB,aAAO,MAAKL,oBAAL,GAA4BM,GAA5B,CAAgC,UAAAJ,MAAM,EAAI;AAC/C,YAAIK,eAAe,GAAG,MAAKjC,KAAL,CAAWkC,UAAX,CAAsBP,MAAtB,CAA6B,UAAAQ,QAAQ;AAAA,iBAAIP,MAAM,CAACQ,EAAP,KAAcD,QAAQ,CAACE,SAA3B;AAAA,SAArC,CAAtB;;AACA,eAAO;AAAK,UAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACL;AAAI,UAAA,EAAE,EAAC,kBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAI,UAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAA+CT,MAAM,CAACZ,WAAtD,CADF,EAEE;AAAI,UAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAsDY,MAAM,CAACP,MAA7D,CAFF,CADK,EAKJY,eAAe,CAACD,GAAhB,CAAoB,UAAAG,QAAQ,EAAI;AAC/B,cAAIG,gBAAgB,GAAG,MAAKtC,KAAL,CAAWP,QAAX,CAAoBkC,MAApB,CAA2B,UAAA5B,OAAO;AAAA,mBAAIA,OAAO,CAACwC,WAAR,KAAwBJ,QAAQ,CAACC,EAArC;AAAA,WAAlC,CAAvB;;AACA,iBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACL;AAAI,YAAA,EAAE,EAAC,oBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAI,YAAA,SAAS,EAAC,wBAAd;AAAuC,YAAA,KAAK,EAAE;AAACI,cAAAA,eAAe,YAAKL,QAAQ,CAACM,KAAd;AAAhB,aAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAwFN,QAAQ,CAACO,KAAjG,CADF,CADK,EAIL;AAAI,YAAA,EAAE,EAAC,yBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAI,YAAA,SAAS,EAAC,uBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAA2D;AAAQ,YAAA,SAAS,EAAC,gBAAlB;AAAmC,YAAA,OAAO,EAAE,MAAKzC,iCAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA3D,CADF,EAEE;AAAI,YAAA,SAAS,EAAC,uBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAqD;AAAQ,YAAA,SAAS,EAAC,gBAAlB;AAAmC,YAAA,OAAO,EAAE,MAAKK,0BAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAArD,CAFF,EAGE;AAAI,YAAA,SAAS,EAAC,uBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAsD;AAAQ,YAAA,SAAS,EAAC,gBAAlB;AAAmC,YAAA,OAAO,EAAE,MAAKG,4BAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAtD,CAHF,EAIE;AAAI,YAAA,SAAS,EAAC,uBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAJF,CADF,CAJK,EAYJ6B,gBAAgB,CAACN,GAAjB,CAAqB,UAAAjC,OAAO,EAAI;AAC/B,gBAAI4C,aAAa,GAAGC,UAAU,CAAC7C,OAAO,CAACsB,MAAR,CAAewB,QAAf,GAA0BC,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAAD,CAA9B;AACA,gBAAIC,YAAY,GAAGH,UAAU,CAAC7C,OAAO,CAACsB,MAAR,CAAewB,QAAf,GAA0BC,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAAD,CAA7B;;AAEA,gBAAIE,KAAK,CAACD,YAAD,CAAT,EAAyB;AACvBA,cAAAA,YAAY,GAAG,IAAf;AACD,aAFD,MAEO,IAAIA,YAAY,GAAG,EAAnB,EAAuB;AAC5BA,cAAAA,YAAY,GAAGA,YAAY,CAACF,QAAb,KAA0B,GAAzC;AACD;;AACD,gBAAMI,mBAAmB,GAAGN,aAAa,CAACE,QAAd,KAA2B,GAA3B,GAAiCE,YAAY,CAACF,QAAb,EAA7D;AAEA,mBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACL;AAAI,cAAA,GAAG,EAAE9C,OAAO,CAACqC,EAAjB;AAAqB,cAAA,EAAE,EAAC,mBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACE;AAAI,cAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAoCrC,OAAO,CAACiB,WAA5C,CADF,EAEE;AAAI,cAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAoCjB,OAAO,CAACoB,IAA5C,CAFF,EAGE;AAAI,cAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAqC8B,mBAArC,CAHF,EAIE;AAAI,cAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACE;AAAQ,cAAA,SAAS,EAAC,gBAAlB;AAAmC,cAAA,EAAE,EAAElD,OAAO,CAACqC,EAA/C;AAAmD,cAAA,OAAO,EAAE;AAAA,uBAAM,MAAKpC,KAAL,CAAWkD,sBAAX,CAAkCnD,OAAlC,CAAN;AAAA,eAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE;AAAQ,cAAA,SAAS,EAAC,gBAAlB;AAAmC,cAAA,EAAE,EAAEA,OAAO,CAACqC,EAA/C;AAAmD,cAAA,OAAO,EAAE;AAAA,uBAAM,MAAKtC,wBAAL,CAA8BC,OAA9B,CAAN;AAAA,eAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF,CAJF,CADK,CAAP;AAWD,WAtBA,CAZI,CAAP;AAoCD,SAtCA,CALI,CAAP;AA6CD,OA/CM,CAAP;AAgDD,K;;;;;;;6BAEQ;AACP,aACE;AAAK,QAAA,EAAE,EAAC,oBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,EAAE,EAAC,gBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEE;AAAK,QAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACU;AAAO,QAAA,EAAE,EAAC,OAAV;AAAkB,QAAA,IAAI,EAAC,MAAvB;AAA8B,QAAA,WAAW,EAAC,mBAA1C;AAA8D,QAAA,QAAQ,EAAE,KAAKuB,oBAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADV,CAFF,EAKE;AAAK,QAAA,EAAE,EAAC,0BAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,EAAE,EAAC,eAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,EAAE,EAAC,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEG,KAAKS,UAAL,EAFH,CADF,CADF,CALF,CADF;AAkBD;;;;EA/LuB3C,S;;AAkM1B,IAAM+D,eAAe,GAAG,SAAlBA,eAAkB,CAAA3D,KAAK,EAAI;AAC/B,SAAO;AACLY,IAAAA,OAAO,EAAEZ,KAAK,CAAC4D,aAAN,CAAoBhD,OADxB;AAELX,IAAAA,QAAQ,EAAED,KAAK,CAAC6D,cAAN,CAAqB5D,QAF1B;AAGLyC,IAAAA,UAAU,EAAE1C,KAAK,CAAC8D,eAAN,CAAsBpB;AAH7B,GAAP;AAKD,CAND;;AAQA,IAAMqB,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ,EAAI;AACrC,SAAO;AACLlE,IAAAA,aAAa,EAAE,uBAACS,OAAD;AAAA,aAAaT,cAAa,CAACS,OAAD,EAASyD,QAAT,CAA1B;AAAA;AADV,GAAP;AAGD,CAJD;;AAMA,eAAenE,OAAO,CAAC8D,eAAD,EAAkBI,kBAAlB,CAAP,CAA6ChE,WAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { deleteExpense } from '../../actions/expense'\nimport './ExpenseMain.css'\n\nclass ExpenseMain extends Component {\n  state = {\n    expenses: [],\n    sortDescription: false,\n    sortDates: false,\n    sortAmounts: false,\n    search: ''\n  }\n\n  handleClickDeleteExpense = (expense) => {\n    this.props.deleteExpense(expense)\n  }\n\n  handleClickExpenseDescriptionSort = () => {\n    if (this.state.sortDescription === false) {\n    this.sortAtoZ()\n    this.setState({budgets: this.props.budgets, sortDescription: true})\n  } else if (this.state.sortDescription === true) {\n    this.sortZtoA()\n    this.setState({budgets: this.props.budgets, sortDescription: false})\n  }\n  }\n\n  handleClickExpenseDateSort = () => {\n    if (this.state.sortDates === false) {\n    this.sortDatesLowToHigh()\n    this.setState({budgets: this.props.budgets, sortDates: true})\n  } else if (this.state.sortDates === true) {\n    this.sortDatesHighToLow()\n    this.setState({budgets: this.props.budgets, sortDates: false})\n  }\n}\n\n  handleClickExpenseAmountSort = () => {\n    if (this.state.sortAmounts === false) {\n      this.sortAmountLowToHigh()\n      this.setState({budgets: this.props.budgets, sortAmounts: true})\n    } else if (this.state.sortAmounts === true) {\n      this.sortAmountHighToLow()\n      this.setState({budgets: this.props.budgets, sortAmounts: false})\n    }\n  }\n\n  sortAtoZ = () => {\n    this.props.expenses.sort(function(a,b) {\n      let descriptionA = a.description\n      let descriptionB = b.description\n      if (descriptionA < descriptionB){\n        return -1\n      }\n      if (descriptionA > descriptionB){\n        return 1\n      }\n      return 0\n    })\n  }\n\n  sortZtoA = () => {\n    this.props.expenses.sort(function(a,b) {\n      let descriptionA = a.description\n      let descriptionB = b.description\n      if (descriptionA > descriptionB){\n        return -1\n      }\n      if (descriptionA < descriptionB){\n        return 1\n      }\n      return 0\n    })\n  }\n\n  sortDatesLowToHigh = () => {\n    this.props.expenses.sort(function(a,b) {\n      let dateA = a.date\n      let dateB = b.date\n      if (dateA < dateB){\n        return -1\n      }\n      if (dateA > dateB){\n        return 1\n      }\n      return 0\n    })\n  }\n\n  sortDatesHighToLow = () => {\n    this.props.expenses.sort(function(a,b) {\n      let dateA = a.date\n      let dateB = b.date\n      if (dateA > dateB){\n        return -1\n      }\n      if (dateA < dateB){\n        return 1\n      }\n      return 0\n    })\n  }\n\n  sortAmountLowToHigh = () => {\n    return this.props.expenses.sort(function(a,b) {\n      return a.amount - b.amount\n    })\n  }\n\n  sortAmountHighToLow = () => {\n    return this.props.expenses.sort(function(a,b) {\n      return b.amount - a.amount\n    })\n  }\n\n  handleChangeExpenses = (event) => {\n    this.setState({search: event.target.value})\n  }\n\n  searchedExpensesTerm = () => {\n    return this.props.budgets.filter((budget) => {\n      return budget.description.toLowerCase().includes(this.state.search).toLowerCase()\n    })\n  }\n\n  mapBudgets = () => {\n    return this.searchedExpensesTerm().map(budget => {\n      let categoryBudgets = this.props.categories.filter(category => budget.id === category.budget_id)\n      return <div id=\"table_data\">\n        <tr id=\"budget_table_row\">\n          <th className=\"budget_table_headers\"> Budget: {budget.description}</th>\n          <th className=\"budget_table_headers\"> Budget Total: ${budget.amount}</th>\n        </tr>\n        {categoryBudgets.map(category => {\n          let categoryExpenses = this.props.expenses.filter(expense => expense.category_id === category.id)\n          return <div>\n            <tr id=\"category_table_row\">\n              <th className=\"category_table_headers\" style={{backgroundColor: `${category.color}`}}> {category.title}</th>\n            </tr>\n            <tr id=\"expense_table_label_row\">\n              <div>\n                <th className=\"expense_table_headers\"> Expense Description <button className=\"expense_button\" onClick={this.handleClickExpenseDescriptionSort}> Sort </button></th>\n                <th className=\"expense_table_headers\"> Expense Dates <button className=\"expense_button\" onClick={this.handleClickExpenseDateSort}> Sort </button></th>\n                <th className=\"expense_table_headers\"> Expense Amount <button className=\"expense_button\" onClick={this.handleClickExpenseAmountSort}> Sort </button></th>\n                <th className=\"expense_table_headers\"> Edit/Delete </th>\n              </div>\n            </tr>\n            {categoryExpenses.map(expense => {\n              let beforeDecimal = parseFloat(expense.amount.toString().split(\".\")[0]);\n              let afterDecimal = parseFloat(expense.amount.toString().split(\".\")[1]);\n\n              if (isNaN(afterDecimal)) {\n                afterDecimal = '00'\n              } else if (afterDecimal < 10) {\n                afterDecimal = afterDecimal.toString() + '0'\n              }\n              const parsedExpenseAmount = beforeDecimal.toString() + '.' + afterDecimal.toString()\n\n              return <div>\n                <tr key={expense.id} id=\"expense_table_row\">\n                  <td className=\"expense_table_data\">{expense.description}</td>\n                  <td className=\"expense_table_data\">{expense.date}</td>\n                  <td className=\"expense_table_data\">${parsedExpenseAmount}</td>\n                  <td className=\"expense_table_data\">\n                    <button className=\"expense_button\" id={expense.id} onClick={() => this.props.handleClickEditExpense(expense)}> Edit </button>\n                    <button className=\"expense_button\" id={expense.id} onClick={() => this.handleClickDeleteExpense(expense)}> Delete </button>\n                  </td>\n                </tr>\n              </div>\n            })}\n          </div>\n        })}\n      </div>\n    })\n  }\n\n  render() {\n    return (\n      <div id=\"expenses_container\">\n        <div id=\"expense_header\"> My Expenses </div>\n        <div id=\"input_container\">\n          Search: <input id=\"input\" type=\"text\" placeholder=\"Search budgets...\" onChange={this.handleChangeExpenses}></input>\n        </div>\n        <div id=\"expenses_table_container\">\n          <table id=\"expense_table\">\n            <tbody id=\"table_body\">\n\n              {this.mapBudgets()}\n\n            </tbody>\n          </table>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    budgets: state.budgetReducer.budgets,\n    expenses: state.expenseReducer.expenses,\n    categories: state.categoryReducer.categories\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    deleteExpense: (expense) => deleteExpense(expense,dispatch)\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ExpenseMain)\n"]},"metadata":{},"sourceType":"module"}